<meta name="viewport" content="width=device-width, initial-scale=1.000, maximum-scale=1.000, user-scalable=no, shrink-to-fit=no">
<meta charset="utf-8">
	
<style>
@font-face {
font-family: '2';
src: url('https://forumstatic.ru/files/001a/a3/94/36874.ttf?v=1');
}
body{
background: #0d0a31;
margin: 0;
padding: 0;
box-sizing: border-box;
font-size: 24px;
color: #ffffff;
}
</style>

<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
</head>
<body>
    <button onclick="lol1()">Получить данные</button>
    <div id="result"></div>

    <script>
    function lol1() {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'http://127.0.0.1:5000/api/users/1763784339', true);
        xhr.timeout = 12000;
        
        // Устанавливаем обработчик состояния ДО отправки запроса
        xhr.onreadystatechange = function(e) {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    try {
                        var response = JSON.parse(xhr.responseText);
                        console.log(response);
                        document.getElementById('result').innerText = JSON.stringify(response, null, 2);
                    } catch (error) {
                        console.error('Ошибка парсинга JSON:', error);
                    }
                } else {
                    console.error('Ошибка запроса:', xhr.statusText);
                }
            }
        };
        
        xhr.send();
    }
    </script>
</body>
</html>
